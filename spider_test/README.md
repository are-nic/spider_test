### Docker
Приложение разворачивается в контейнере Docker. После клонирования проекта запустить в папке **spider_test**
```sh
docker compose build
docker compose up
```

### Документация API

Для доступа к API нужно получить **Token**. 
Использовать **POST** запрос со своими <username> и <password>

[localhost:8000/api/v1/token/](localhost:8000/api/v1/token/)

По умолчанию при запуске проекта в контейнере создается суперюзер. 
Чтобы получить его Токен в теле запроса необходимо указать следующее:
```sh
{
    "username": "admin",
    "password": "admin"
}
```
в ответе сервера появится ответ типа:
```sh
{
    "token": "e1e81228b3d8d521eb8e25832197f9486def4744"
}
```
Значение по ключу **"token"** использовать для дальнейших запросов в заголовках с префиксом **Token**
```sh
Authorization: Token e1e81228b3d8d521eb8e25832197f9486def4744
```
#### Получить список Районов
GET запрос
[localhost:8000/api/v1/districts](localhost:8000/api/v1/districts)

Ответ сервера
```sh
[
    {
        "id": 2,
        "name": "Северный район"
    },
    {
        "id": 1,
        "name": "Южный район"
    }
]
```

#### Получить список организаций в одном из Районов по id Района
GET запрос
[localhost:8000/api/v1/organizations/<district_id>](localhost:8000/api/v1/districts)

Ответ сервера
```sh
[
    {
        "district_name": "Северный район",
        "organizations": [
            {
                "id": 2,
                "name": "Nestle"
            },
            {
                "id": 3,
                "name": "Toolsы"
            },
            {
                "id": 1,
                "name": "Простоквашино"
            }
        ]
    }
]
```

#### Отфильтровать список организаций в одном из Районов по id Категории товара/услуги
В список организаций будут включены только те, в которых присутствует данная категория Товаров/Услуг
GET запрос
[localhost:8000/api/v1/organizations/<district_id>?category_id=<category_id>]()

#### Поиск организаций в одном из Районов по Наименованию товара/услуги
В список организаций будут включены только те организации, в которых продается данный  Товар/Услуга
Реализован механизм неточного поиска, например, если организации продает товар "Пила", то при поисковых запросах типа "пилы", "пипла", "пил" сервер выдаст Организацию в ответе.

GET запрос
[localhost:8000/api/v1/organizations/<district_id>?search=<Наименование Товара/Услуги>]()

#### Получить список всех Организаций
GET запрос
[localhost:8000/api/v1/organization]()

#### Получить детальную информацию об Организации по id
GET запрос
[localhost:8000/api/v1/organization/1]()

#### Получить список Товаров/Услуг
GET запрос
[localhost:8000/api/v1/item]()

#### Получить детальную информацию о Товаре/Услуге по id
GET запрос
[localhost:8000/api/v1/item/1]()

#### Создать экземпляр Товара/Услуги
POST запрос
[localhost:8000/api/v1/item]()

Необходимо передать в тело запроса следующие обязательные поля:
- name - название нового Товара/Услуги
- category - id Категории Товаров/Услуг
```sh
{
    "name": "Сметана",
    "category": 2
}
```